<div class="background container-fluid d-flex">
  <div class="logo">
    <img src="../../assets/logo.svg" alt="logo" width="150vh" />
  </div>

  <form class="container-fluid g-3" #r="ngForm">
    <ng-container [ngSwitch]="fase">
      <!--IF  1-->
      <div *ngSwitchCase="1">
        <div class="row">
          <div class="col-12 pt-4">
            <h1>Registrati</h1>
            <h5>Inserisci i tuoi dati e procedi con la registrazione</h5>
            <hr />
          </div>
        </div>
        <div class="d-flex ml-0 justify-content-start">
          <div class="blocco1">
            <div class="col-1 circle1">1</div>

            <div class="col-1 tag-accesso mt-2">Accesso</div>
          </div>

          <div class="col-1 mt-2 ml-3">
            <i class="material-icons">chevron_right</i>
          </div>

          <div class="blocco2">
            <div class="col-1 circle2">2</div>

            <div class="col-3 mt-2">Anagrafica</div>
          </div>

          <div class="col-1 mt-2 ml-3" *ngIf="service.isAdmin">
            <i class="material-icons">chevron_right</i>
          </div>

          <div class="blocco3" *ngIf="service.isAdmin">
            <div class="col-1 circle2">3</div>

            <div class="col-3 mt-2">Concessionaria</div>
          </div>
        </div>
        <!-- INSERIMENTO DATI USER -->
        <div class="row">
          <div class="col-4 tag-accesso-2 pt-5 mt-2">
            CREDENZIALI DI ACCESSO
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <label for="inputEmail4" class="form-label">Email *</label>
            <input
              type="email"
              class="form-control"
              name="email"
              id="email"
              (input)="onInputEmail($event)"
              [(ngModel)]="email"
            />
            <div
              *ngIf="emailCheck && !first"
              style="color: #aa1010"
              class="mt-1"
            >
              Email non valida o giá registrata.
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 pass-div">
            <label for="inputPassword4" class="form-label">Password *</label>
            <input
              type="password"
              class="form-control"
              name="passwordToVerify"
              id="passwordToVerify"
              [(ngModel)]="passwordToVerify"
            />
          </div>
          <div class="col-6 confirm-pass">
            <label for="inputPassword4" class="form-label"
              >Conferma Password *</label
            >
            <input
              type="password"
              class="form-control"
              id="passwordToMatch"
              name="passwordToMatch"
              [(ngModel)]="passwordToMatch"
            />
          </div>
        </div>

        <div class="row">
          <div class="form-check col-12 p-2">
            <h5 class="ml-3">
              Registrandoti accetti i
              <span class="privacy" (click)="acceptTerms()"
                >termini e condizioni</span
              >
            </h5>
          </div>
        </div>

        <div class="col-12 footer-form">
          <div class="col-5 pl-0">
            <h6>*Campi obbligatori</h6>
          </div>
          <hr />
        </div>
        <div class="row">
          <div class="col-12 d-flex justify-content-between">
            <h5><a [routerLink]="['/login']"> RITORNA ALLA LOGIN </a></h5>
            <!-- DALL'INSERIMENTO DATI USER PASSO A ANAGRAFICA -->
            <button
              type="button"
              class="btn"
              (click)="onClick()"
              [disabled]="
                !passwordToVerify || !passwordToMatch || !isDisabled || !email
              "
            >
              AVANTI
            </button>
          </div>
        </div>
      </div>
      <!--IF  2-->
      <div *ngSwitchCase="2">
        <div class="row">
          <div class="col-12 pt-4">
            <h1>Registrati</h1>
            <h5>Inserisci i tuoi dati e procedi con la registrazione</h5>
            <hr />
          </div>
        </div>

        <div class="d-flex ml-0 justify-content-start">
          <div class="blocco1">
            <div class="col-1 circle3"><i class="material-icons">check</i></div>

            <div class="col-1 tag-accesso mt-2">Accesso</div>
          </div>

          <div class="col-1 mt-2 ml-3">
            <i class="material-icons">chevron_right</i>
          </div>

          <div class="blocco2">
            <div class="col-1 circle3">2</div>

            <div class="col-3 mt-2">Anagrafica</div>
          </div>

          <div class="col-1 mt-2 ml-3" *ngIf="service.isAdmin">
            <i class="material-icons">chevron_right</i>
          </div>

          <div class="blocco3" *ngIf="service.isAdmin">
            <div class="col-1 circle2">3</div>

            <div class="col-3 mt-2">Concessionaria</div>
          </div>
        </div>

        <!-- INSERIMENTO DATI ANAGRAFICA-->
        <div class="row">
          <div class="col-4 tag-accesso-2 mt-2">DATI ANAGRAFICI</div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="form-label">Cognome *</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="cognome"
              id="cognome"
              name="cognome"
            />
          </div>

          <div class="col-md-6">
            <label class="form-label">Nome *</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="nome"
              id="nome"
              name="nome"
            />
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <label class="form-label">Data di nascita *</label>
            <input
              type="date"
              class="form-control"
              name="dataNascita"
              id="dataNascita"
              [(ngModel)]="dataNascita"
            />
          </div>
          <div class="col-6">
            <label class="form-label" for="gender">Genere *</label>
            <select
              name="genere"
              class="form-control"
              id="genere"
              [(ngModel)]="genere"
            >
              <option value="Uomo">Uomo</option>
              <option value="Donna">Donna</option>
              <option value="Altro">Altro</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-3">
            <label class="form-label">Nazione *</label>
            <input
              type="text"
              class="form-control"
              name="nazione"
              id="nazione"
              [(ngModel)]="nazione"
            />
          </div>
          <div class="col-3">
            <label class="form-label">Provincia *</label>
            <input
              type="text"
              class="form-control"
              name="provincia"
              id="provincia"
              [(ngModel)]="provincia"
            />
          </div>
          <div class="col-3">
            <label class="form-label">Città di residenza *</label>
            <input
              type="text"
              class="form-control"
              name="cittaResidenza"
              id="cittaResidenza"
              [(ngModel)]="cittaResidenza"
            />
          </div>
          <div class="col-3">
            <label class="form-label">Indirizzo di residenza *</label>
            <input
              type="text"
              class="form-control"
              name="indirizzo"
              id="indirizzo"
              [(ngModel)]="indirizzo"
            />
          </div>
        </div>

        <div class="col-12 footer-form-2">
          <div class="col-5 pl-0">
            <h6>*Campi obbligatori</h6>
          </div>
          <hr />
        </div>
        <div class="row">
          <ng-container
            class="col-12 d-flex justify-content-between"
            *ngIf="!service.isAdmin; else admin"
          >
          <!-- BUTTON INDIETRO ANAGRAFICA SE SEI USER-->
            <div class="col-12 d-flex justify-content-between">
              <button type="button" class="btn btn-2" (click)="onClick2()">
                INDIETRO
              </button>
          <!-- BUTTON CONFERMA ANAGRAFICA SE SEI USER-->
              <button
                type="submit"
                class="btn"
                [disabled]="
                  !cognome ||
                  !nome ||
                  !dataNascita ||
                  !genere ||
                  !nazione ||
                  !provincia ||
                  !cittaResidenza ||
                  !indirizzo
                "
                (click)="register(r)"
              >
                CONFERMA
              </button>
            </div>
          </ng-container>

          <ng-template #admin>
            <div class="col-12 d-flex justify-content-between">
              <!-- BUTTON INDIETRO ANAGRAFICA SE SEI ADMIN-->
              <button type="button" class="btn btn-2" (click)="onClick2()">
                INDIETRO
              </button>
              <!-- BUTTON CONFERMA ANAGRAFICA SE SEI ADMIN-->
              <button
                type="submit"
                class="btn"
                [disabled]="
                  !cognome ||
                  !nome ||
                  !dataNascita ||
                  !genere ||
                  !nazione ||
                  !provincia ||
                  !cittaResidenza ||
                  !indirizzo
                "
                (click)="register(r)"
                (click)="onClick4()"
              >
                AVANTI
              </button>
            </div>
          </ng-template>
        </div>
      </div>
      <!--IF 3-->
      <div *ngSwitchCase="3">
        <div class="row">
          <div class="col-12 pt-4">
            <h1>Registrati</h1>
            <h5>Inserisci i tuoi dati e procedi con la registrazione</h5>
            <hr />
          </div>
        </div>

        <div class="d-flex ml-0 justify-content-start">
          <div class="blocco1">
            <div class="col-1 circle3"><i class="material-icons">check</i></div>

            <div class="col-1 tag-accesso mt-2">Accesso</div>
          </div>

          <div class="col-1 mt-2 ml-3">
            <i class="material-icons">chevron_right</i>
          </div>

          <div class="blocco2">
            <div class="col-1 circle3"><i class="material-icons">check</i></div>

            <div class="col-3 mt-2">Anagrafica</div>
          </div>

          <div class="col-1 mt-2 ml-3" *ngIf="service.isAdmin">
            <i class="material-icons">chevron_right</i>
          </div>

          <div class="blocco3" *ngIf="service.isAdmin">
            <div class="col-1 circle2">3</div>

            <div class="col-3 mt-2">Concessionaria</div>
          </div>
        </div>

        <div class="row">
          <div class="col-4 tag-accesso-2">INFO</div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <label for="inputEmail4" class="form-label">Nome *</label>
            <input
              class="form-control"
              name="cNome"
              id="cNome"
              [(ngModel)]="cNome"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <label class="form-label">Descrizione *</label>
            <input
              type="text"
              class="form-control py-3"
              id="cDescrizione"
              name="cDescrizione"
              [(ngModel)]="cDescrizione"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <label class="form-label">Provincia *</label>
            <input
              class="form-control"
              name="cProvincia"
              id="cProvincia"
              [(ngModel)]="cProvincia"
            />
          </div>
          <div class="col-md-4">
            <label class="form-label">Città *</label>
            <input
              class="form-control"
              name="cCitta"
              id="cCitta"
              [(ngModel)]="cCitta"
            />
          </div>
          <div class="col-md-4">
            <label class="form-label">Indirizzo *</label>
            <input
              class="form-control"
              id="address"
              name="cIndirizzo"
              [(ngModel)]="cIndirizzo"
            />
          </div>
        </div>
        <div class="col-12 footer-form">
          <div class="col-5 pl-0">
            <h6>*Campi obbligatori</h6>
          </div>
          <hr />
        </div>
        <div class="row">
          <div class="col-12 d-flex justify-content-between">
            <button type="button" class="btn btn-2" (click)="onClick3()">
              INDIETRO
            </button>
            <button
              type="button"
              class="btn"
              (click)="registerAdmin(r)"
              [disabled]="
                !cNome || !cDescrizione || !cProvincia || !cCitta || !cIndirizzo
              "
            >
              CONFERMA
            </button>
          </div>
        </div>
      </div>
    </ng-container>
  </form>
</div>
